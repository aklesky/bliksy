# Static Options & Usage

> static options are used as default values or fallback to configure [renderToPipeableStream](https://reactjs.org/docs/react-dom-server.html#rendertopipeablestream)

## List of contents

- [Static Options \& Usage](#static-options--usage)
  - [List of contents](#list-of-contents)
  - [Example Usage](#example-usage)
  - [Configuration](#configuration)
    - [*nonce*](#nonce)
    - [*identifierPrefix*](#identifierprefix)
    - [*progressiveChunkSize*](#progressivechunksize)
    - [*namespaceURI*](#namespaceuri)
    - [*bootstrapScripts*](#bootstrapscripts)
    - [*bootstrapModules*](#bootstrapmodules)
    - [*bootstrapScriptContent*](#bootstrapscriptcontent)
    - [*component*](#component)
    - [*enableTimeout*](#enabletimeout)
    - [*timeout*](#timeout)
    - [*addHtmlBodyTag*](#addhtmlbodytag)

> The function ***`useRenderToPipeableStream`*** takes an object as an argument and returns an asynchronous wrapper around ***`react-dom/server.renderToPipeableStream`***.

## Example Usage

```typescript
import { useRenderToPipeableStream } from '@aklesky/streamable-react/pipeable/render.js'

// this parameters are static and will be used as default values or fallback

const render = useRenderToPipeableStream({
        component: options.component,
        timeout: options.timeout,
        identifierPrefix: options.identifierPrefix,
        namespaceURI: options.namespaceURI,
        nonce: options.nonce,
        bootstrapModules: options.bootstrapModules,
        bootstrapScripts: options.bootstrapScripts,
})
```

## Configuration

### *nonce*

A nonce string to allow scripts for script-src Content-Security-Policy.

```typescript
    nonce?: string
```

- [Read more about the nonce parameter.](https://beta.reactjs.org/reference/react-dom/server/renderToPipeableStream#parameters)
- [Read more about the Content-Security-Policy.](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/script-src)

### *identifierPrefix*

A string prefix React uses for IDs generated by useId.

```typescript
    identifierPrefix?: string
```

- [Read more about the identifierPrefix parameter](https://beta.reactjs.org/reference/react-dom/server/renderToPipeableStream#parameters)

### *progressiveChunkSize*

The number of bytes in a chunk.

```typescript
    progressiveChunkSize?: number
```

- [Read more about the default heuristic.](https://github.com/facebook/react/blob/14c2be8dac2d5482fda8a0906a31d239df8551fc/packages/react-server/src/ReactFizzServer.js#L210-L225)

> default 12800

### *namespaceURI*

A string with the root namespace URI for the stream. Defaults to regular HTML.

```typescript
    namespaceURI?: string
```

[Read more about the namespaceURI parameter](https://beta.reactjs.org/reference/react-dom/server/renderToPipeableStream#parameters)

### *bootstrapScripts*

An array of string URLs for the \<script\> tags to emit on the page.
Use this to include the \<script type="module\"\> that calls hydrateRoot.

 ```typescript
    bootstrapScripts?: string[]
```

[Read more about the bootstrapScripts](https://beta.reactjs.org/reference/react-dom/server/renderToPipeableStream#parameters)

### *bootstrapModules*

An array of string URLs for the \<script type="module"\> tags to emit on the page.
Like boostrapScripts.

```typescript
    bootstrapModules?: string[]
```

[Read more about the bootstrapModules](https://beta.reactjs.org/reference/react-dom/server/renderToPipeableStream#parameters)

### *bootstrapScriptContent*

If specified, this string will be placed in an inline script tag.

```typescript
    bootstrapScriptContent?: string
```

[Read more about the bootstrapScriptContent](https://beta.reactjs.org/reference/react-dom/server/renderToPipeableStream#parameters)

### *component*

The React component to render. might be used as a static option to render or as a fallback if no component is provided within the streamable options.

```typescript
    component?: ComponentType
```

### *enableTimeout*

Enable the server rendering to “give up” after a timeout

```typescript
    enableTimeout?: boolean
```

### *timeout*

Force the server rendering to “give up” after a timeout

```typescript
    timeout?: number
```

> default 10000 ms

- [Read more about aborting server rendering](https://beta.reactjs.org/reference/react-dom/server/renderToPipeableStream#aborting-server-rendering )

### *addHtmlBodyTag*

Write closing body and html tags to the end of the stream and end it.

```typescript
    addHtmlBodyTag?: boolean
```

> default true
>
> ***Writable.end('\<\/body>\<\/html\>')***
